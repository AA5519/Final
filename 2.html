<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>simpleMap</title>
<script
   src="https://apis.openapi.sk.com/tmap/jsv2?version=1&appKey=l7xx0ce92201b7eb4ee8a6cb41f177cf9ecc"></script>
<script type="text/javascript">
    const url =
         "http://data.ex.co.kr/openapi/locationinfo/locationinfoIc?key=5957783004&type=json";
   var map;
   // 페이지가 로딩이 된 후 호출하는 함수입니다.
   function initTmap(){
      // map 생성
      // Tmapv2.Map을 이용하여, 지도가 들어갈 div, 넓이, 높이를 설정합니다.
      map = new Tmapv2.Map("map_div",  // "map_div" : 지도가 표시될 div의 id
      {
         center: new Tmapv2.LatLng(37.566481622437934,126.98502302169841), // 지도 초기 좌표
         width: "100%", // map의 width 설정
         height: "950px" // map의 height 설정
      });
        function mouseOverListener(map, marker, infoWindow) {
         return function () {
         infoWindow.open(map, marker);
         };
         }
         // 인포윈도우 표시 닫기
         function mouseOutListener(infoWindow) {
         return function () {
         infoWindow.close();
         };
         }
        fetch(url)
         .then((res) => res.json())
         .then((resJson) => {
         var markers = [];
         // IC 좌표 리스트
         var ic = resJson.list;
         for (var i = 0; i < ic.length; i++) {
         var yValue = ic[i]["yValue"];
         var xValue = ic[i]["xValue"];
          var marker = new Tmapv2.Marker({
         position: new Tmapv2.LatLng(yValue, xValue),
         map: map,
         });

         var infoWindow = new Tmapv2.InfoWindow({
         content: ic[i]["icName"],
         });
         // 마커 추가
         markers.push(marker);
         }
         });
   }
</script>
</head>
<body onload="initTmap()"><!-- 맵 생성 실행 -->
   <div id="map_div"></div>
</body>
</html>